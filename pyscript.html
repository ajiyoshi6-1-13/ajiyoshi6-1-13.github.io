<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title>pyscript test</title>
        <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css">
        <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
        <py-env>
            pygame
            pyautogui
            math
        </py-env>
    </head>
    <body>
        <py-script>
            import pygame
            import pyautogui
            from math import ceil
            from time import time

            disp_size_x, disp_size_y = pyautogui.size()

            pygame.init()
            scr = pygame.display.set_mode((disp_size_x, disp_size_y), pygame.FULLSCREEN)
            font1 = pygame.font.Font("keifont.ttf", ceil(disp_size_x / 22.8571429))
            font2 = pygame.font.Font("keifont.ttf", ceil(disp_size_x / 11.42762145))
            run = True
            while run:
                name = ""
                backspace = False
                explanation_x = (disp_size_x / 6.4) - (disp_size_x / 6.4 * 2)
                char2 = font1.render("You can also change the name later.", True, (0, 0, 0))
                char3 = font1.render("Press your keyboard and enter a name.", True, (0, 0, 0))
                img1 = pygame.transform.scale(pygame.image.load("enter1.png"), (disp_size_x, disp_size_y))
                img2 = pygame.transform.scale(pygame.image.load("enter2.png"), (disp_size_x, disp_size_y))
                while run:
                    scr.fill((125, 60, 35))
                    scr.blit(img1, (0, 0))
                    name_legth = len(name)
                    if 32 <= name_legth:
                        name = name[:31]
                    if name_legth == 0:
                        pass
                    elif 1 <= name_legth:
                        char1 = font1.render(name, True, (0, 0, 0))
                        scr.blit(char1, (disp_size_x / 12.8, disp_size_y / 2.4))
                    if explanation_x >= disp_size_x / 6.4:
                        explanation_x = disp_size_x / 6.4
                    else:
                        explanation_x += 2
                    scr.blit(char3 ,(0, 0))
                    scr.blit(char2, (explanation_x, disp_size_y - disp_size_x / 22.8571429))
                    pygame.display.update()
                    for event in pygame.event.get():
                        if event.type == pygame.QUIT:
                            run = False
                        if event.type == pygame.KEYDOWN:
                            if event.key == pygame.K_q:
                                name += "q"
                            if event.key == pygame.K_w:
                                name += "w"
                            if event.key == pygame.K_e:
                                name += "e"
                            if event.key == pygame.K_r:
                                name += "r"
                            if event.key == pygame.K_t:
                                name += "t"
                            if event.key == pygame.K_y:
                                name += "y"
                            if event.key == pygame.K_u:
                                name += "u"
                            if event.key == pygame.K_i:
                                name += "i"
                            if event.key == pygame.K_o:
                                name += "o"
                            if event.key == pygame.K_p:
                                name += "p"
                            if event.key == pygame.K_a:
                                name += "a"
                            if event.key == pygame.K_s:
                                name += "s"
                            if event.key == pygame.K_d:
                                name += "d"
                            if event.key == pygame.K_f:
                                name += "f"
                            if event.key == pygame.K_g:
                                name += "g"
                            if event.key == pygame.K_h:
                                name += "h"
                            if event.key == pygame.K_j:
                                name += "j"
                            if event.key == pygame.K_k:
                                name += "k"
                            if event.key == pygame.K_l:
                                name += "l"
                            if event.key == pygame.K_z:
                                name += "z"
                            if event.key == pygame.K_x:
                                name += "x"
                            if event.key == pygame.K_c:
                                name += "c"
                            if event.key == pygame.K_v:
                                name += "v"
                            if event.key == pygame.K_b:
                                name += "b"
                            if event.key == pygame.K_n:
                                name += "n"
                            if event.key == pygame.K_m:
                                name += "m"
                            if event.key == pygame.K_SPACE:
                                name += " "
                            if event.key == pygame.K_BACKSPACE:
                                name = name[:name_legth - 1]
        
        
        </py-script>
    </body>